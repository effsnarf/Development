title: grid.Web
server:
  host: localhost
  port: 5051
project:
  folder: (env) => env.path.resolve(env.process.cwd(), '../Source')
webscript:
  folder: (env) => env.path.join(env.process.cwd(), "../../../../Shared/WebScript")
websiteHost:
  folder: (env) => env.path.resolve(env.process.cwd(), '../../../WebsiteHost')
static:
  folder: (env) => env.process.cwd()
handler: | #js
  (ctx) => {
    return async (req, res) => {
      if (req.url == "/script") {
        const yaml = ctx.fs.readFileSync(ctx.path.join(ctx.process.cwd(), "main.yaml"), 'utf8');
        const main = ctx.Objects.parseYaml(yaml, { addSuffixToDuplicateKeysUnder: ["dom"] });
        return res.end();
      }
    };
  }
