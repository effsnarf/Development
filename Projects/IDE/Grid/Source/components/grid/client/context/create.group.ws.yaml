dom:
  grid.module:
    icon: 👤👈
    ':show-title': 'false'
    div: 
      v-if: showGroupForm
      .form1:
        div: 
          div: 
            v-if: (displayBox?._id != hoveredBox?._id)
            ui.button: 
              ':text': '''set display box to 📦'' + hoveredBox?.name'
              @click: displayBox = hoveredBox
          h3:
            v-text: '''Display Box: '' + displayBox?.name'
        div: 
          v-if: canCreateGroup
          class: mt-l1
          ui.button: 
            icon: ➕📦
            text: create group ✔️
            @click: onCreateGroup
        div: 
          ui.button: 
            icon: ✖️✨
            text: unselect
            @click: onUnselectBoxes
data:
  hoveredBox: null
  displayBox: null
props:
  selectedBoxes: []
  contextIsPinned: false
mounted: | #js
  function() {
  }
methods:
  onCreateGroup: | #js
    function() {
      this.getUiActions().$femit('create.group', this.displayBox._id);
      this.clear();
    }
  onUnselectBoxes: | #js
    function() {
      this.getUiActions().$femit('unselect.boxes');
    }
  grid_ui_box_hovered: | #js
    function(box, isHovered) {
      if (this.contextIsPinned) return;
      this.hoveredBox = (!isHovered ? null : box);
    }
  clear: | #js
    function() {
      this.displayBox = null;
    }
  getUiActions: | #js
    function() {
      const client = this.$root.vm.getAncestors(this, "grid.client")[0];
      const module = client.$children[0];
      const uiActions = module.$children.find((c) => c.$options.name === "grid-ui-actions");
      return uiActions;
    }
computed:
  canCreateGroup: | #js
    function() {
      return (!!this.displayBox);
    }
  showGroupForm: | #js
    function() {
      return (this.selectedBoxes.length > 0);
    }
style:
  .form1:
    padding: 1em
    border: 1px solid gray
_:
  examples:
    count: 0
name: grid-client-context-create-group
template: >-
  <grid-module class="comp-grid-client-context-create-group" icon="👤👈"
  :show-title="false" path="-1413308281."><div v-if="showGroupForm"
  path="-1413308281.0"><div class="form1" path="-1413308281.0.0"><div
  path="-1413308281.0.0.0"><div v-if="(displayBox?._id != hoveredBox?._id)"
  path="-1413308281.0.0.0.0"><ui-button :text="'set display box to 📦' +
  hoveredBox?.name" @click="displayBox = hoveredBox"
  path="-1413308281.0.0.0.0.0"></ui-button></div><h3 v-text="'Display Box: ' +
  displayBox?.name" path="-1413308281.0.0.0.1"></h3></div><div class="mt-l1"
  v-if="canCreateGroup" path="-1413308281.0.0.1"><ui-button icon="➕📦"
  text="create group ✔️" @click="onCreateGroup"
  path="-1413308281.0.0.1.0"></ui-button></div><div
  path="-1413308281.0.0.2"><ui-button icon="✖️✨" text="unselect"
  @click="onUnselectBoxes"
  path="-1413308281.0.0.2.0"></ui-button></div></div></div></grid-module>
