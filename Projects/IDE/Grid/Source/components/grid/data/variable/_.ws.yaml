dom:
  grid.module:
    icon: ðŸ§Š
    ':title': fuid
    grid.data.variable.view:
      ':fuid': fuid
    ui.value:
      ':value': value
props:
  fuid: null
  defaultValue: null
  value: null
data: null
mounted: | #js
  function() {
    this.load();
  }
methods:
  clear: | #js
    function() {
      this.$emit("input", this.defaultValue);
    }
  onChange: | #js
    function(value) {
      this.$femit("change", { fuid: this.fuid, value: value });
      this.save(value);
    }
  save: | #js
    function(value) {
      if (!this.isPersisted) return;
      localStorage.setItem(this.fuid, JSON.stringify(value));
    }
  load: | #js
    function() {
      if (!this.isPersisted) return;
      const value = JSON.parse(localStorage.getItem(this.fuid)) || this.defaultValue;
      this.$emit("input", value);
      this.onChange(value);
    }
computed:
  isPersisted: | #js
    function() {
      return this.fuid.includes("/user/actions");
    }
watch:
  value: | #js
    function(value) {
      this.onChange(value);
    }
_:
  examples:
    count: 0
name: grid-data-variable
template: >-
  <grid-module class="comp-grid-data-variable" icon="ðŸ§Š" :title="fuid"
  path="-1384224872."><grid-data-variable-view :fuid="fuid"
  path="-1384224872.0"></grid-data-variable-view><ui-value :value="value"
  path="-1384224872.1"></ui-value></grid-module>
