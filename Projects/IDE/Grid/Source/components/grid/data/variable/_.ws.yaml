dom:
  grid.module:
    icon: ðŸ§Š
    ':title': fuid
    grid.data.variable.view:
      ':fuid': fuid
      @input: (value) => $emit('input', value)
props:
  fuid: null
  defaultValue: null
  value: null
data: null
mounted: | #js
  function() {
    this.load();
  }
methods:
  clear: | #js
    function() {
      this.$emit("input", this.defaultValue);
      this.onChange();
    }
  onChange: | #js
    function() {
      this.$femit("change", { fuid: this.fuid, value: this.value });
      this.save();
    }
  save: | #js
    function() {
      if (!this.isPersisted) return;
      localStorage.setItem(this.fuid, JSON.stringify(this.value));
    }
  load: | #js
    function() {
      if (!this.isPersisted) return;
      const value = JSON.parse(localStorage.getItem(this.fuid) || this.defaultValue);
      this.$emit("input", value);
      this.onChange();
    }
computed:
  isPersisted: | #js
    function() {
      return this.fuid.includes("/user/actions");
    }
watch:
  value: | #js
    function(value) {
      this.onChange();
    }
_:
  examples:
    count: 0
name: grid-data-variable
template: >-
  <grid-module class="comp-grid-data-variable" icon="ðŸ§Š" :title="fuid"
  path="-1384224872."><grid-data-variable-view :fuid="fuid" @input="(value)
  =&gt; $emit('input', value)"
  path="-1384224872.0"></grid-data-variable-view></grid-module>
