dom:
  flow.node.base:
    v-if: node
    ':node': node
    @node-datas: onNodeDatas
    class: box
    flow.node.title: 
      ':node': node
      ':full': true
    table: 
      tr: 
        v-for: fieldName in getEditableFieldNames(node)
        th: 
          v-text: fieldName
        td: 
          flow.field.editor:
            ':node': node
            ':field-name': fieldName
            ':field': node.data[fieldName]
    div:
      h3:
        v-text: '''nodeDatas'''
      table: 
        ':key': key1
        tr: 
          v-for: entry in Object.entries(nodeDatas)
          th: 
            flow.node.title: 
              ':node': $root.gdb.getNode(entry[0])
              ':full': true
          td: 
            ui.value.any:
              ':value': entry[1]
props:
  node: null
data:
  nodeDatas: {}
  key1: 1
methods:
  onNodeDatas: | #js
    function(nodeDatas) {
      this.nodeDatas = nodeDatas;
      this.refresh();
    }
  getEditableFieldNames: | #js
    function(node) {
      if (!node.data) return [];
      return Object.keys(node.data);
    }
  refresh: | #js
    function() {
      this.key1++;
    }
style:
  th:
    vertical-align: top
    padding-right: 1em
  .box:
    max-width: 30em
    overflow: auto
    padding: 1em
    background: '#ffffff10'
    border: 1px solid gray
_:
  examples:
    count: 0
name: flow-node-editor
template: >-
  <flow-node-base class="comp-flow-node-editor box" v-if="node" :node="node"
  @node-datas="onNodeDatas" path="-121170407."><flow-node-title :node="node"
  :full="true" path="-121170407.0"></flow-node-title><table
  path="-121170407.1"><tr v-for="fieldName in getEditableFieldNames(node)"
  path="-121170407.1.0"><th v-text="fieldName" path="-121170407.1.0.0"></th><td
  path="-121170407.1.0.1"><flow-field-editor :node="node"
  :field-name="fieldName" :field="node.data[fieldName]"
  path="-121170407.1.0.1.0"></flow-field-editor></td></tr></table><div
  path="-121170407.2"><h3 v-text="'nodeDatas'" path="-121170407.2.0"></h3><table
  :key="key1" path="-121170407.2.1"><tr v-for="entry in
  Object.entries(nodeDatas)" path="-121170407.2.1.0"><th
  path="-121170407.2.1.0.0"><flow-node-title :node="$root.gdb.getNode(entry[0])"
  :full="true" path="-121170407.2.1.0.0.0"></flow-node-title></th><td
  path="-121170407.2.1.0.1"><ui-value-any :value="entry[1]"
  path="-121170407.2.1.0.1.0"></ui-value-any></td></tr></table></div></flow-node-base>
