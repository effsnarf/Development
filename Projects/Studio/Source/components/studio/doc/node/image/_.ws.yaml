dom:
  div:
    img:
      v-if: isImage
      :src: proxiedImageUrl
    video:
      v-if: isVideo
      :src: proxiedImageUrl

props:
  node:
  dataItem:
  userAppState:

data:
  emptyImageUrl: https://i.imgur.com/QwWQw2v.jpeg
  videoExtensions: ["webm", "mp4"]

computed:
  isImage: | #js
    function() {
      return (!this.isVideo);
    }
  isVideo: | #js
    function() {
      return this.videoExtensions.includes(this.extension);
    }
  proxiedImageUrl: | #js
    function() {
      return `/fetch?url=${this.imageUrl}`;
    }
  imageUrl: | #js
    function() {
      return this.$root.getBoundData(this.userAppState, this.node, this.dataItem, this.emptyImageUrl);
    }
  extension: | #js
    function() {
      return this.imageUrl?.split('.').last();
    }

style:
  img:
    width: 6em
    aspect-ratio: 9 / 6
    object-fit: cover
