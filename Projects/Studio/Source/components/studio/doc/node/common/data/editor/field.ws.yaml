dom:
  div:
    h2:
      ui.input.text.box:
        hint: field name or custom expression
        v-model: nodeVar.exp
    div:
      table:
        tr:
          v-for: field in dataItemFields
          :class: "{ clickable: true, selected: false }"
          @mouseenter: () => { nodeVar.exp = field; }
          @mouseleave: () => { nodeVar.exp = field; }
          @click: () => { nodeVar.exp = field; }
          td:
            div:
              v-if: (false)
              v-text: "'✔️'"
          td:
            v-text: "'🧊 ' + field"

props:
  node:
  nodeVar:
  initial:
  sui:

data:

methods:
  getDataItemFields: | #js
    function() {
      return this.sui.selected.dataItems
        .take(10)
        .flatMap(d => Object.keys(d))
        .distinct()
        .sortBy(s => s);
    }

computed:
  dataItemFields: | #js
    function() {
      return this.getDataItemFields();
    }

style:
  td:nth-child(1):
    width: 2em
