dom:
  div:
    ui.input.layout:
      :layout-types: layoutTypes
      :value: node.layout
      @preview: onPreview
      @input: onInput

props:
  node:
  initial:
  sui:

data:

methods:
  onPreview: | #js
    function(layout) {
      this.node.layout = layout;
      this.$root.$emit("app.node.changed", this.node);
    }
  onInput: | #js
    function(layout) {
      this.initial.node.layout = this.node.layout = layout;
      this.$root.$emit("app.node.changed", this.node);
    }

computed:
  layoutTypes: | #js
    function() {
      switch (this.node.type) {
        case "panel": return null;
        case "list": return ["grid.y", "grid.x", "grid.uniform"];
      }
      throw `${this.node.type} layout types not implemented`;
    }
