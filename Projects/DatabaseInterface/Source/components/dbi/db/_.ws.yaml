dom:
  div:
    h2:
      ui.title:
        icon: ðŸ“‚
        :text: dbName
    .flex.gap-1:
      ui.drawer:
        dbi.entity.list:
          :dbp: dbp
      div:
        dbi.db.query:
          :dbp: dbp
        dbi.db.optimization:
          v-if: "false"
          :dbp: dbp

props:
  dbp: null

data:
  entities: null

mounted: | #js
  async function() {
    this.refresh();
  }

methods:
  refresh: | #js
    async function() {
      this.entities = (await this.dbp.get.entity.infos());
    }

computed:
  dbName: | #js
    function() {
      return this.dbp.urlBase.split('/').last();
    }
