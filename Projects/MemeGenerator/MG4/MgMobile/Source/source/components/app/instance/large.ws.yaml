dom:
  ui.element:
    @input: (e) => elInfo = e
    .instance:
      v-if: instance1
      ui.link:
        :url: "'/instance/' + instance1?.instanceID"
        div:
          .texts:
            .text1:
              :style: text0Style
              v-text: instance1.text0
            .text2:
              :style: text1Style
              v-text: instance1.text1
          img:
            :src: instanceImageUrl
      .buttons1:
        .button1:
          v-text: "'âž¤'"
        .flex.ac:
          .button1:
            v-text: "'ðŸ’¬'"
          div:
            v-text: "'12'"

props:
  instance: null

data:
  elInfo:
  text0Style:
  text1Style:

methods:
  getTextStyle: | #js
    function(elInfo, index) {
      if (!elInfo) return {};
      const style = {};
      const text = this.instance1[`text${index}`];
      const elw = elInfo.width;
      const fontSize = (elw / 7);
      style.fontSize = this.getFontSize(text, elw);;
      return style;
    }
  getFontSize: | #js
    function(s, width) {
      if (!s) return 0;
      if (!width) return 0;
      const size = Math.min(3, Math.max(14, (36 - (s.length / 6))) / 50 *  width / 150);
      return `${(size * 1.5)}rem`;
    }
computed:
  instance1: | #js
    function() {
      if (this.instance) return this.instance;
      return {
        instanceID: 1,
        text0: "Pain is temporary",
        text1: "Glory is eternal"
      }
    }
  instanceImageUrl: | #js
    function() {
      return `https://i.imgur.com/QwWQw2v.jpeg`;
    }

watch:
  elInfo:
    handler: | #js
      function(newElInfo) {
        this.text0Style = this.getTextStyle(newElInfo, 0);
        this.text1Style = this.getTextStyle(newElInfo, 1);
      }
    deep: true

style:
  .comp-app-instance-large:
    margin: auto
  .texts:
    position: absolute
    width: 100%
    height: calc(100% - 10px)
  .text1, .text2:
    width: 100%
    text-transform: uppercase
    text-align: center
    text-shadow: "-0.5vh 0.5vh 0.2vh #000, 0.2vh -0.2vh 0.2vh #000"
    font-family: impact
  .text2:
    position: absolute
    bottom: 0
