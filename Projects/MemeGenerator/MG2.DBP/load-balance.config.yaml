title: MG.DBP
incoming:
  address:
    dev: localhost:4040
    prod: 10.35.16.36:80
  cors:
    [
      https://memegenerator.net,
      https://vue-studio.com,
      http://localhost,
      http://localhost:5051,
    ]
  severity:
    time: [100, 500, "<"]
  cache:
    max:
      age: 10m
    ignore:
      - /get/new/id
      - /googleLogin
    store:
      dev:
        database:
          path: (env) => env.path.resolve("c:\\Database\\Cache", env.config.title)
      prod:
        - memory: true
        - database:
            connectionString: mongodb://localhost:37017
            database: MG-DBP-Cache
nodes:
  - name: MG.DBP 1
    address: localhost:4041
    process: ./Node1/start.cmd
    restart:
      url: /restart/Jz0xnwG1bDv57LFpKTS6UkV8h9XQtCeBOMl2NHfRIj3yPcZYimAsrqdV4oWEaFhu
  - name: MG.DBP 2
    address: localhost:4042
    process: ./Node2/start.cmd
    restart:
      url: /restart/Jz0xnwG1bDv57LFpKTS6UkV8h9XQtCeBOMl2NHfRIj3yPcZYimAsrqdV4oWEaFhu
sync:
  exclude: [node_modules, config.yaml, nuxt.config.js, .nuxt, dist]
node:
  restart:
    enabled: false # Restart the node if it crashes
    health: 0.5 # Restart the node if the health is below 50%
    timeout: 5 # and it has been unhealthy for N minutes
request:
  timeout: 10 # Timeout requests after 10 seconds
analytics:
  database:
    prod:
      path: F:\Database\MG-Analytics
log:
  enabled: true
  path: (env) => env.getLogPath(env.config.title)
process:
  restart:
    periodically:
      from: 00:15
      every: 30m
