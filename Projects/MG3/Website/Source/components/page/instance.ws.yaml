dom:
  site:
    :recommendation-items: recommendationItems
    template#1:

    template#2:
      v-slot: middle
      content.stream:
        item-type: e.instance
        :get-more-items: getMoreInstances
        grid-class: grid-1

data:
  instance:
  generator:
  recommendationItems: []
  isInited: false

mounted: | #ts
  async function() {
    await this.init();
  }

methods:
  init: | #ts
    async function() {
      if (this.isInited) return;
      const dbp = this.$root.dbp;
      this.instance = await dbp.instances.select.one(this.$root.params.instanceID);
      this.generator = await dbp.generators.select.one(this.instance.generatorID);
      this.recommendationItems = await dbp.generators.select.related(this.generator.urlName);
      this.isInited = true;
    }

  getMoreInstances: | #ts
    async function(pageIndex) {
      const items = await this.$root.dbp.instances.select.popular("en", pageIndex)
      if (pageIndex == 0) items.unshift(this.instance);
      return items;
    }

style:
