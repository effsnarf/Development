dom:
  div:
    h3:
      v-text: comments.length + ' comments'
    ui.list:
      ':items': topComments
      v-slot: slotProps
      e.comment:
        ':item': slotProps.item
props:
  entityID: null
data:
  comments: []
computed:
  topComments: | #js

    function() {
      return this.comments?.sortBy(c => -c.totalVotesScore).take(30);
    }
watch:
  entityID:
    handler: | #js

      async function() {
        this.comments = await this.$root.dbp.comments.select.by(this.entityID);
      }
    immediate: true
style:
  ul:
    gap: 3px
name: e-comment-list
template: >-
  <div class="comp-e-comment-list" path="616682934."><h3 v-text="comments.length
  + ' comments'" path="616682934.0"></h3><ui-list :items="topComments"
  v-slot="slotProps" path="616682934.1"><e-comment :item="slotProps.item"
  path="616682934.1.0"></e-comment></ui-list></div>
