dom:
  div:
    h3:
      v-text: comments.length + ' comments'
    ui.list:
      ':items': topComments
      v-slot: slotProps
      e.comment:
        ':item': slotProps.item
props:
  entityID: null
data:
  comments: []
computed:
  topComments: |
    function() {
      return this.comments?.sortBy(c => -c.totalVotesScore).take(30);
    }
watch:
  entityID:
    handler: |
      async function() {
        this.comments = await this.$root.dbp.comments.select.by(this.entityID);
      }
    immediate: true
style:
  ul:
    gap: 3px
name: e-comment-list
template: >-
  <div class="comp-e-comment-list"><h3 v-text="comments.length + '
  comments'"></h3><ui-list :items="topComments" v-slot="slotProps"><e-comment
  :item="slotProps.item"></e-comment></ui-list></div>
