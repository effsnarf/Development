dom:
  div: 
    div: 
      table:
        tbody:
          tr: 
            th: 
              v-text: '''pattern'''
            td: 
              ui.select:
                v-slot: slotProps
                ':options': patternOptions
                input-type: value
                v-model: item.pattern
                ':show-text': 'false'
                template:
                  img:
                    class: pattern-image
                    ':src': '''/img/rainbow/patterns/''+slotProps.item+''.png'''
          tr: 
            th: 
              v-text: '''detail'''
            td: 
              input: 
                type: range
                min: 2
                max: 36
                v-model: item.slices
          tr: 
            th: 
              v-text: '''colors'''
            td: 
              .flex:
                ui.button: 
                  ':text': '''➖'''
                  ':click': removeColor
                input: 
                  class: clickable
                  type: color
                  v-for: index in item.colorsCount
                  v-model: item.colors[index-1]
                ui.button: 
                  ':text': '''➕'''
                  ':click': addColor
props:
  item: null
data:
  patternOptions:
    - radial
    - lines
    - checkers
    - pizza
methods:
  onColorChange: | #js
    function (index, value) {
      this.item.colors[index] = value;
    }
  addColor: | #js
    function () {
      if (this.item.colorsCount >= this.item.colors.length) return;
      this.item.colorsCount++;
      if (this.item.colorsCount > this.item.slices) this.item.slices = this.item.colorsCount;
    }
  removeColor: | #js
    function () {
      this.item.colorsCount--;
    }
watch:
  item:
    handler: | #js
      function(item) {
      }
    deep: true
style:
  button:
    padding: 0 0.3em !important
  ul:
    display: flex
  li:
    flex-grow: 1
  li > div:
    text-align: center
  .pattern-image:
    filter: grayscale(1) contrast(1) brightness(1.5)
name: e-template-rainbow-editor
template: >-
  <div class="comp-e-template-rainbow-editor" path="637897232."><div
  path="637897232.0"><table path="637897232.0.0"><tbody
  path="637897232.0.0.0"><tr path="637897232.0.0.0.0"><th v-text="'pattern'"
  path="637897232.0.0.0.0.0"></th><td path="637897232.0.0.0.0.1"><ui-select
  v-slot="slotProps" :options="patternOptions" input-type="value"
  v-model="item.pattern" :show-text="false"
  path="637897232.0.0.0.0.1.0"><template path="637897232.0.0.0.0.1.0.0"><img
  class="pattern-image" :src="'/img/rainbow/patterns/'+slotProps.item+'.png'"
  path="637897232.0.0.0.0.1.0.0.0"/></template></ui-select></td></tr><tr
  path="637897232.0.0.0.1"><th v-text="'detail'"
  path="637897232.0.0.0.1.0"></th><td path="637897232.0.0.0.1.1"><input
  type="range" min="2" max="36" v-model="item.slices"
  path="637897232.0.0.0.1.1.0"/></td></tr><tr path="637897232.0.0.0.2"><th
  v-text="'colors'" path="637897232.0.0.0.2.0"></th><td
  path="637897232.0.0.0.2.1"><div class="flex"
  path="637897232.0.0.0.2.1.0"><ui-button :text="'➖'" :click="removeColor"
  path="637897232.0.0.0.2.1.0.0"></ui-button><input class="clickable"
  type="color" v-for="index in item.colorsCount" v-model="item.colors[index-1]"
  path="637897232.0.0.0.2.1.0.1"/><ui-button :text="'➕'" :click="addColor"
  path="637897232.0.0.0.2.1.0.2"></ui-button></div></td></tr></tbody></table></div></div>
