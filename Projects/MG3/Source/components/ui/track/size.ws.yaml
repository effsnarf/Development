dom:
  div:
    ref: div1
    slot:

data:
  size:

mounted: | #js
  function () {
    window.addEventListener(`resize`, this.recalc.bind(this));
    // Detect if the image element changes its size
    let resizeObserver = new ResizeObserver(this.recalc.bind(this));
    resizeObserver.observe(this.$refs.div1);
  }

methods:
  recalc: | #js
    function () {
      if (!this.$refs.div1) return;
      let rect = this.$refs.div1.getBoundingClientRect();
      const width = this.width = Math.round(rect.width);
      const height = this.height = Math.round(rect.height);
      const diagonal = Math.round(Math.sqrt(width * width + height * height));
      const size = this.size = { width, height, diagonal };
      this.$emit("input", size);
    }
