dom:
  site:
    page-name: home
    template#1:
      v-slot: left
      e.thread.list: null
    template#2:
      v-slot: middle
      e.template.editor: null
      content.stream:
        ref: stream1
        item-type: e.instance
        ':get-more-items': getMoreInstances
        grid-class: grid-1
    template:
      v-slot: right
      div:
        e.post.create: null
data:
  generators: []
  uniqueID: 1
mounted: |
  async function() {
    this.threads = await this.$root.dbp.threads.select.all();
    
    this.$watch(() => this.$root.params.page, {
      handler: async () => {
        await this.init();
      },
      immediate: true
    });
  }
methods:
  init: |
    async function() {
      if (this.$root.params.page == "home")
      {
        this.$root.setDocumentTitle(null);
        this.$refs.stream1.reset();
      }
    }
  getMoreInstances: |
    async function(pageIndex) {
      const items = await this.$root.dbp.instances.sample.popular(null, 15);
      return items;
    }
style:
  .comp-e-thread:
    margin-top: 6rem
  .comp-e-generator-wide img:
    aspect-ratio: 2 / 1
name: page-home
template: >-
  <site class="comp-page-home" page-name="home"><template
  v-slot:left><e-thread-list></e-thread-list></template><template
  v-slot:middle><e-template-editor></e-template-editor><content-stream
  ref="stream1" item-type="e.instance" :get-more-items="getMoreInstances"
  grid-class="grid-1"></content-stream></template><template
  v-slot:right><div><e-post-create></e-post-create></div></template></site>
