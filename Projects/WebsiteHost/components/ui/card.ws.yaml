dom:
  .container:
    @mouseenter: onMouseEnter
    @mouseleave: onMouseLeave
    @mousemove: onMouseMove
    .card:
      ref: card
      slot: null
      div:
        class: glow
data:
  bounds: null
mounted: | #js
  function() {
  }
methods:
  onMouseEnter: | #js
    function(e) {
      this.bounds = this.$refs.card.getBoundingClientRect();
    }
  onMouseLeave: | #js
    function(e) {
      this.$refs.card.style.transform = '';
      this.$refs.card.style.background = '';
    }
  onMouseMove: | #js
    function(e) {
      const $card = this.$refs.card;

      const mouseX = e.clientX;
      const mouseY = e.clientY;
      const leftX = mouseX - this.bounds.x;
      const topY = mouseY - this.bounds.y;
      const center = {
        x: leftX - this.bounds.width / 2,
        y: topY - this.bounds.height / 2
      }
      const distance = Math.sqrt(center.x**2 + center.y**2);
      
      $card.style.transform = `
        scale3d(1.07, 1.07, 1.07)
        rotate3d(
          ${center.y / 100},
          ${-center.x / 100},
          0,
          ${Math.log(distance)* 2}deg
        )
      `;
      
      $card.querySelector('.glow').style.backgroundImage = `
        radial-gradient(
          circle at
          ${center.x * 2 + this.bounds.width/2}px
          ${center.y * 2 + this.bounds.height/2}px,
          #ffffff55,
          #0000000f
        )
      `;
    }
style:
  .container:
    perspective: 600px
  .card:
    font-weight: bold
    box-shadow: '0 1px 5px #00000099'
    border-radius: 0.5rem
    background-size: cover
    position: relative
    overflow: hidden
    transition-duration: 300ms
    transition-property: transform, box-shadow
    transition-timing-function: ease-out
    transform: rotate3d(0)
  .card:hover:
    transition-duration: 150ms
    box-shadow: '0 5px 20px 5px #00000044'
  .card .glow:
    position: absolute
    width: 100%
    height: 100%
    left: 0
    top: 0
    background-image: 'radial-gradient(circle at 50% -20%, #ffffff22, #0000000f)'
    pointer-events: none
example:
  dom:
    ui.card:
      .content:
        div:
          v-text: >-
            'This is a card. Hover over it to see the effect. The card component
            can contan any other component.'
  style:
    .content:
      width: 15em
      padding: 1em
      aspect-ratio: 3 / 2
      font-weight: normal
      text-shadow: '-2px 2px 2px #000'
name: ui-card
_:
  examples:
    count: 1
template: >-
  <div class="comp-ui-card container" @mouseenter="onMouseEnter"
  @mouseleave="onMouseLeave" @mousemove="onMouseMove" path="-484662742."><div
  class="card" ref="card" path="-484662742.0"><slot></slot><div class="glow"
  path="-484662742.0.1"></div></div></div>
